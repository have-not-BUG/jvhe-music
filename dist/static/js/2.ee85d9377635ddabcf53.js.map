{"version":3,"sources":["webpack:///static/js/2.ee85d9377635ddabcf53.js","webpack:///./src/components/rank-detail/rank-detail.vue","webpack:///music-list.vue?c745*","webpack:///./src/components/music-list/music-list.vue?e288**","webpack:///./src/components/music-list/music-list.vue?c194**","webpack:///./src/components/music-list/music-list.vue?a171*","webpack:///./src/components/music-list/music-list.vue?9aa4**","webpack:///./src/api/rank.js","webpack:///rank-detail.vue","webpack:///./src/components/rank-detail/rank-detail.vue?62e4","webpack:///./src/components/rank-detail/rank-detail.vue?ebbc","webpack:///./src/components/rank-detail/rank-detail.vue?b3e9"],"names":["webpackJsonp","653","module","exports","__webpack_require__","injectStyle","ssrContext","Component","661","__webpack_exports__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default","n","__WEBPACK_IMPORTED_MODULE_1_base_song_list_song_list__","__WEBPACK_IMPORTED_MODULE_1_base_song_list_song_list___default","__WEBPACK_IMPORTED_MODULE_2_base_scroll_scroll__","__WEBPACK_IMPORTED_MODULE_2_base_scroll_scroll___default","__WEBPACK_IMPORTED_MODULE_3_base_loading_loading__","__WEBPACK_IMPORTED_MODULE_3_base_loading_loading___default","__WEBPACK_IMPORTED_MODULE_4_common_js_dom__","__WEBPACK_IMPORTED_MODULE_5_vuex__","__WEBPACK_IMPORTED_MODULE_6_common_js_mixin__","prefixTransform","i","prefixBackdropFilter","mixins","props","title","type","String","default","bgImage","songs","Array","rank","Boolean","components","songList","a","scroll","loading","computed","bgStyle","this","mounted","singerAvatarHeight","$refs","singerAvatar","clientHeight","scrollSongList","$el","style","top","created","probeType","listenScroll","data","scrollY","methods","handlePlayList","playList","bottomValue","length","bottom","refresh","goback","$router","back","pos","y","randomPlayAllMusic","item","randomPlay","list","selectItem","index","selectPlay","watch","newY","songListBg","zIndex","paddingBottom","height","randomPlayAllWrap","display","singer_name_height","scaleNum","blur","Math","min","bgCover","662","push","version","sources","names","mappings","file","sourcesContent","sourceRoot","663","content","locals","664","665","render","_vm","_h","$createElement","_c","_self","ref","staticClass","on","click","_v","domProps","innerHTML","_s","$event","_e","attrs","selectEvent","staticRenderFns","668","getQQAllRankData","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default","__WEBPACK_IMPORTED_MODULE_3__config__","g_tk","inCharset","outCharset","notice","platform","needNewCode","_","Date","now","__WEBPACK_IMPORTED_MODULE_2_common_js_jsonp__","getQQRankListDetail","id","tpl","page","topid","getWYRankListDetail","idx","__WEBPACK_IMPORTED_MODULE_4_axios___default","get","params","then","res","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","resolve","catch","err","console","log","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign__","__WEBPACK_IMPORTED_MODULE_4_axios__","679","__WEBPACK_IMPORTED_MODULE_1_vuex__","__WEBPACK_IMPORTED_MODULE_2_api_config__","__WEBPACK_IMPORTED_MODULE_3_common_js_song__","__WEBPACK_IMPORTED_MODULE_4_components_music_list_music_list__","__WEBPACK_IMPORTED_MODULE_4_components_music_list_music_list___default","__WEBPACK_IMPORTED_MODULE_5_api_rank__","rankTitleAndPic","pic","retArry","musicSourceData","_getQQRankListDetail","_getWYRankListDetail","_this","rankList","code","topinfo","ListName","optimizeQQRankListSongs","songlist","$message","message","duration","_this2","playlist","name","optimizeWYRankListSongs","tracks","coverImgUrl","_this3","forEach","musicData","songid","albummid","_this4","ret","covertMusicDataWY","mid","covertMusicDataWYOld","ar","artists","al","album","dt","bMusic","playTime","musicList","newSong","image","697","709","722","bg-image"],"mappings":"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","file":"static/js/2.ee85d9377635ddabcf53.js","sourcesContent":["webpackJsonp([2],{\n\n/***/ 653:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(709)\n}\nvar Component = __webpack_require__(11)(\n  /* script */\n  __webpack_require__(679),\n  /* template */\n  __webpack_require__(722),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-7d6492d9\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 661:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__ = __webpack_require__(35);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_base_song_list_song_list__ = __webpack_require__(238);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_base_song_list_song_list___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_base_song_list_song_list__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_base_scroll_scroll__ = __webpack_require__(78);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_base_scroll_scroll___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_base_scroll_scroll__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_base_loading_loading__ = __webpack_require__(236);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_base_loading_loading___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_base_loading_loading__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_common_js_dom__ = __webpack_require__(237);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_vuex__ = __webpack_require__(39);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_common_js_mixin__ = __webpack_require__(105);\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nvar singer_name_height = 40;\n\n\n\n\n\n\nvar prefixTransform = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4_common_js_dom__[\"a\" /* prefixStlye */])('transform');\nvar prefixBackdropFilter = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4_common_js_dom__[\"a\" /* prefixStlye */])('backdrop-filter');\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  mixins: [__WEBPACK_IMPORTED_MODULE_6_common_js_mixin__[\"c\" /* playListMixin */]],\n  props: {\n    title: {\n      type: String,\n      default: ''\n    },\n    bgImage: {\n      type: String,\n      default: ''\n    },\n    songs: {\n      type: Array,\n      default: []\n    },\n    rank: {\n      type: Boolean,\n      default: false\n    }\n\n  },\n  components: {\n    songList: __WEBPACK_IMPORTED_MODULE_1_base_song_list_song_list___default.a,\n    scroll: __WEBPACK_IMPORTED_MODULE_2_base_scroll_scroll___default.a,\n    loading: __WEBPACK_IMPORTED_MODULE_3_base_loading_loading___default.a\n  },\n  computed: {\n    bgStyle: function bgStyle() {\n      return 'background-image:url(' + this.bgImage + ')';\n    }\n  },\n  mounted: function mounted() {\n    this.singerAvatarHeight = this.$refs.singerAvatar.clientHeight;\n    this.$refs.scrollSongList.$el.style.top = this.singerAvatarHeight + 'px';\n  },\n  created: function created() {\n    this.probeType = 3;\n    this.listenScroll = true;\n  },\n  data: function data() {\n    return {\n      scrollY: 0\n    };\n  },\n\n  methods: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({\n    handlePlayList: function handlePlayList(playList) {\n      var bottomValue = playList.length > 0 ? '60px' : '';\n      this.$refs.scrollSongList.$el.style.bottom = bottomValue;\n      this.$refs.scrollSongList.refresh();\n    },\n    goback: function goback() {\n      this.$router.back();\n    },\n    scroll: function scroll(pos) {\n      this.scrollY = pos.y;\n    },\n    randomPlayAllMusic: function randomPlayAllMusic(item) {\n      this.randomPlay({\n        list: item\n      });\n    },\n    selectItem: function selectItem(item, index) {\n      this.selectPlay({\n        list: this.songs,\n        index: index\n      });\n    }\n  }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5_vuex__[\"c\" /* mapActions */])(['selectPlay', 'randomPlay'])),\n  watch: {\n    scrollY: function scrollY(newY) {\n      var moveHeight = this.singerAvatarHeight - singer_name_height;\n      //        let mintranslateY = Math.max(newY, -moveHeight);\n      if (-newY < moveHeight) {\n        this.$refs.songListBg.style[prefixTransform] = 'translate3d(0,' + newY + 'px,0)';\n        this.$refs.singerAvatar.style.zIndex = 0;\n        this.$refs.singerAvatar.style.paddingBottom = '70%';\n        this.$refs.singerAvatar.style.height = 0;\n        this.$refs.randomPlayAllWrap.style.display = '';\n      } else {\n\n        this.$refs.singerAvatar.style.zIndex = 30;\n        this.$refs.singerAvatar.style.paddingBottom = 0;\n        this.$refs.singerAvatar.style.height = singer_name_height + 'px';\n        this.$refs.randomPlayAllWrap.style.display = 'none';\n      }\n      var scaleNum = 1 + newY / this.singerAvatarHeight;\n      if (newY > 0) {\n        this.$refs.singerAvatar.style[prefixTransform] = 'scale(' + scaleNum + ')';\n      } else {\n        var blur = Math.min(20 * (-newY / this.singerAvatarHeight), 20);\n        this.$refs.bgCover.style[prefixBackdropFilter] = 'blur(' + blur + 'px)';\n      }\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 662:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(648)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".music-list-wrapper[data-v-2fdecef3]{height:100%;width:100%;position:relative}.music-list-wrapper .singer-name[data-v-2fdecef3]{z-index:40;color:#ffcd32;position:absolute;text-align:center;width:100%}.music-list-wrapper .singer-name .icon-back[data-v-2fdecef3]{left:25px;top:0;position:absolute;display:block;height:40px;line-height:40px;font-size:22px}.music-list-wrapper .singer-name h2[data-v-2fdecef3]{font-size:18px;line-height:40px;height:40px;padding:0 50px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.music-list-wrapper .singerAvatar[data-v-2fdecef3]{position:relative;width:100%;height:0;background-size:cover;padding-bottom:70%;-webkit-transform-origin:top;transform-origin:top}.music-list-wrapper .singerAvatar .bg-cover[data-v-2fdecef3]{position:absolute;width:100%;height:100%;top:0;left:0;background:rgba(7,17,27,.4)}.music-list-wrapper .singerAvatar .random-play-all-wrap[data-v-2fdecef3]{position:absolute;left:50%;bottom:20px;-webkit-transform:translate(-50%);transform:translate(-50%);text-align:center;color:#ffcd32}.music-list-wrapper .singerAvatar .random-play-all-wrap .random-play-all-button[data-v-2fdecef3]{-webkit-box-sizing:border-box;box-sizing:border-box;width:135px;padding:7px 0;border:1px solid #ffcd32;border-radius:100px;font-size:16px}.music-list-wrapper .song-list-bg[data-v-2fdecef3]{background-color:#063;position:relative;top:0;left:0;height:200%;width:100%}.music-list-wrapper .scroll-song-list-part[data-v-2fdecef3]{position:fixed;bottom:0;width:100%}.music-list-wrapper .loading-wrapper[data-v-2fdecef3]{position:absolute;left:50%;bottom:30%;z-index:50;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}\", \"\", {\"version\":3,\"sources\":[\"C:/vueMusic/src/components/music-list/music-list.vue\"],\"names\":[],\"mappings\":\"AACA,qCACE,YAAa,AACb,WAAY,AACZ,iBAAmB,CACpB,AACD,kDACE,WAAY,AACZ,cAAe,AACf,kBAAmB,AACnB,kBAAmB,AACnB,UAAY,CACb,AACD,6DACE,UAAW,AACX,MAAO,AACP,kBAAmB,AACnB,cAAe,AACf,YAAa,AACb,iBAAkB,AAClB,cAAgB,CACjB,AACD,qDACE,eAAgB,AAChB,iBAAkB,AAClB,YAAa,AACb,eAAgB,AAChB,uBAAwB,AACxB,gBAAiB,AACjB,kBAAoB,CACrB,AACD,mDACE,kBAAmB,AACnB,WAAY,AACZ,SAAU,AACV,sBAAuB,AACvB,mBAAoB,AACpB,6BAA8B,AACtB,oBAAsB,CAC/B,AACD,6DACE,kBAAmB,AACnB,WAAY,AACZ,YAAa,AACb,MAAO,AACP,OAAQ,AACR,2BAA8B,CAC/B,AACD,yEACE,kBAAmB,AACnB,SAAU,AACV,YAAa,AACb,kCAAsC,AAC9B,0BAA8B,AACtC,kBAAmB,AACnB,aAAe,CAChB,AACD,iGACE,8BAA+B,AACvB,sBAAuB,AAC/B,YAAa,AACb,cAAe,AACf,yBAA0B,AAC1B,oBAAqB,AACrB,cAAgB,CACjB,AACD,mDACE,sBAAuB,AACvB,kBAAmB,AACnB,MAAO,AACP,OAAQ,AACR,YAAa,AACb,UAAY,CACb,AACD,4DACE,eAAgB,AAChB,SAAU,AACV,UAAY,CACb,AACD,sDACE,kBAAmB,AACnB,SAAU,AACV,WAAY,AACZ,WAAY,AACZ,uCAAyC,AACjC,8BAAiC,CAC1C\",\"file\":\"music-list.vue\",\"sourcesContent\":[\"\\n.music-list-wrapper[data-v-2fdecef3] {\\n  height: 100%;\\n  width: 100%;\\n  position: relative;\\n}\\n.music-list-wrapper .singer-name[data-v-2fdecef3] {\\n  z-index: 40;\\n  color: #ffcd32;\\n  position: absolute;\\n  text-align: center;\\n  width: 100%;\\n}\\n.music-list-wrapper .singer-name .icon-back[data-v-2fdecef3] {\\n  left: 25px;\\n  top: 0;\\n  position: absolute;\\n  display: block;\\n  height: 40px;\\n  line-height: 40px;\\n  font-size: 22px;\\n}\\n.music-list-wrapper .singer-name h2[data-v-2fdecef3] {\\n  font-size: 18px;\\n  line-height: 40px;\\n  height: 40px;\\n  padding: 0 50px;\\n  text-overflow: ellipsis;\\n  overflow: hidden;\\n  white-space: nowrap;\\n}\\n.music-list-wrapper .singerAvatar[data-v-2fdecef3] {\\n  position: relative;\\n  width: 100%;\\n  height: 0;\\n  background-size: cover;\\n  padding-bottom: 70%;\\n  -webkit-transform-origin: top;\\n          transform-origin: top;\\n}\\n.music-list-wrapper .singerAvatar .bg-cover[data-v-2fdecef3] {\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n  top: 0;\\n  left: 0;\\n  background: rgba(7,17,27,0.4);\\n}\\n.music-list-wrapper .singerAvatar .random-play-all-wrap[data-v-2fdecef3] {\\n  position: absolute;\\n  left: 50%;\\n  bottom: 20px;\\n  -webkit-transform: translate(-50%, 0);\\n          transform: translate(-50%, 0);\\n  text-align: center;\\n  color: #ffcd32;\\n}\\n.music-list-wrapper .singerAvatar .random-play-all-wrap .random-play-all-button[data-v-2fdecef3] {\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  width: 135px;\\n  padding: 7px 0;\\n  border: 1px solid #ffcd32;\\n  border-radius: 100px;\\n  font-size: 16px;\\n}\\n.music-list-wrapper .song-list-bg[data-v-2fdecef3] {\\n  background-color: #063;\\n  position: relative;\\n  top: 0;\\n  left: 0;\\n  height: 200%;\\n  width: 100%;\\n}\\n.music-list-wrapper .scroll-song-list-part[data-v-2fdecef3] {\\n  position: fixed;\\n  bottom: 0;\\n  width: 100%;\\n}\\n.music-list-wrapper .loading-wrapper[data-v-2fdecef3] {\\n  position: absolute;\\n  left: 50%;\\n  bottom: 30%;\\n  z-index: 50;\\n  -webkit-transform: translate(-50%, -50%);\\n          transform: translate(-50%, -50%);\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 663:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(662);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(649)(\"56ac5c24\", content, true);\n\n/***/ }),\n\n/***/ 664:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(663)\n}\nvar Component = __webpack_require__(11)(\n  /* script */\n  __webpack_require__(661),\n  /* template */\n  __webpack_require__(665),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-2fdecef3\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 665:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    ref: \"musicListWrapper\",\n    staticClass: \"music-list-wrapper\"\n  }, [_c('div', {\n    staticClass: \"singer-name\"\n  }, [_c('i', {\n    staticClass: \"icon-back\",\n    on: {\n      \"click\": _vm.goback\n    }\n  }), _vm._v(\" \"), _c('h2', {\n    domProps: {\n      \"innerHTML\": _vm._s(_vm.title)\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    ref: \"singerAvatar\",\n    staticClass: \"singerAvatar\",\n    style: (_vm.bgStyle)\n  }, [_c('div', {\n    ref: \"bgCover\",\n    staticClass: \"bg-cover\"\n  }), _vm._v(\" \"), (_vm.songs.length > 0) ? _c('div', {\n    ref: \"randomPlayAllWrap\",\n    staticClass: \"random-play-all-wrap\"\n  }, [_c('div', {\n    staticClass: \"random-play-all-button\",\n    on: {\n      \"click\": function($event) {\n        _vm.randomPlayAllMusic(_vm.songs)\n      }\n    }\n  }, [_c('i', {\n    staticClass: \"icon-play\"\n  }), _vm._v(\" 随机播放全部\")])]) : _vm._e()]), _vm._v(\" \"), _c('div', {\n    ref: \"songListBg\",\n    staticClass: \"song-list-bg\"\n  }), _vm._v(\" \"), _c('scroll', {\n    ref: \"scrollSongList\",\n    staticClass: \"scroll-song-list-part\",\n    attrs: {\n      \"data\": _vm.songs,\n      \"probeType\": _vm.probeType,\n      \"listenScroll\": _vm.listenScroll\n    },\n    on: {\n      \"scroll\": _vm.scroll\n    }\n  }, [_c('div', {\n    staticClass: \"song-list-wrapper\"\n  }, [_c('song-list', {\n    attrs: {\n      \"songs\": _vm.songs,\n      \"rank\": _vm.rank\n    },\n    on: {\n      \"selectEvent\": _vm.selectItem\n    }\n  })], 1)]), _vm._v(\" \"), (!_vm.songs.length) ? _c('div', {\n    staticClass: \"loading-wrapper\"\n  }, [_c('loading')], 1) : _vm._e()], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 668:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = getQQAllRankData;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = getQQRankListDetail;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = getWYRankListDetail;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__ = __webpack_require__(61);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign__ = __webpack_require__(79);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_common_js_jsonp__ = __webpack_require__(154);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__config__ = __webpack_require__(77);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_axios__ = __webpack_require__(80);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_axios___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_axios__);\n\n\n\n\n\n\nfunction getQQAllRankData() {\n  // 获取QQ各个排行榜\n  // https://c.y.qq.com/v8/fcg-bin/fcg_myqq_toplist.fcg?g_tk=1733932805&uin=0&format=json&inCharset=utf-8&outCharset=utf-8&notice=0&platform=h5&needNewCode=1&_=1507350076787\n  var url = 'https://c.y.qq.com/v8/fcg-bin/fcg_myqq_toplist.fcg';\n  var data = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__config__[\"c\" /* commonParams */], {\n    g_tk: 1733932805,\n    inCharset: 'utf-8',\n    outCharset: 'utf-8',\n    notice: 0,\n    platform: 'h5',\n    needNewCode: 1,\n    _: Date.now()\n  });\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_common_js_jsonp__[\"a\" /* default */])(url, data, __WEBPACK_IMPORTED_MODULE_3__config__[\"d\" /* options */]);\n}\n\nfunction getQQRankListDetail(id) {\n  // 获取QQ单个排行榜详情\n  // https://c.y.qq.com/v8/fcg-bin/fcg_v8_toplist_cp.fcg?g_tk=1733932805&uin=0&format=json&inCharset=utf-8&outCharset=utf-8&notice=0&platform=h5&needNewCode=1&tpl=3&page=detail&type=top&topid=4&_=1507350217631\n  var url = 'https://c.y.qq.com/v8/fcg-bin/fcg_v8_toplist_cp.fcg';\n  var data = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__config__[\"c\" /* commonParams */], {\n    g_tk: 1733932805,\n    inCharset: 'utf-8',\n    outCharset: 'utf-8',\n    notice: 0,\n    platform: 'h5',\n    needNewCode: 1,\n    tpl: 3,\n    page: 'detail',\n    type: 'top',\n    topid: id,\n    _: Date.now()\n  });\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_common_js_jsonp__[\"a\" /* default */])(url, data, __WEBPACK_IMPORTED_MODULE_3__config__[\"d\" /* options */]);\n}\n\nfunction getWYRankListDetail(id) {\n  // 热门歌单详情\n  // http://wangyimusic.leanapp.cn/playlist/detail?id=311692545\n  var url = '/api/getWYRankListDetailProxy';\n  var data = {\n    idx: id\n  };\n\n  return __WEBPACK_IMPORTED_MODULE_4_axios___default.a.get(url, {\n    params: data\n  }).then(function (res) {\n    return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a.resolve(res.data);\n  }).catch(function (err) {\n    console.log(err);\n  });\n}\n\n/***/ }),\n\n/***/ 679:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__ = __webpack_require__(35);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vuex__ = __webpack_require__(39);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_api_config__ = __webpack_require__(77);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_common_js_song__ = __webpack_require__(155);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_components_music_list_music_list__ = __webpack_require__(664);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_components_music_list_music_list___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_components_music_list_music_list__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_api_rank__ = __webpack_require__(668);\n\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  data: function data() {\n    return {\n      songs: [],\n      rankTitleAndPic: {\n        title: '',\n        pic: ''\n      },\n      retArry: []\n\n    };\n  },\n\n  props: {\n    rank: {\n      type: Boolean,\n      default: true\n    }\n  },\n  computed: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({\n    title: function title() {\n      return this.rankTitleAndPic.title;\n    },\n    bgImage: function bgImage() {\n      return this.rankTitleAndPic.pic;\n    }\n  }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_vuex__[\"a\" /* mapGetters */])(['rankList', 'musicSourceData'])),\n  created: function created() {\n    if (this.musicSourceData === '1') {\n      this._getQQRankListDetail();\n    }\n    if (this.musicSourceData === '2') {\n      this._getWYRankListDetail();\n    }\n    //      let aa;\n    //      function hee() {\n    //       return setTimeout(()=>{\n    //         aa='ijioj'\n    //        },1000)\n    //      }\n    //      hee();\n    //       console.error(aa)\n\n    //      let a=[1,2,3,4,5,6,7,8,9];\n    //      a.forEach((item)=>{\n    //        setTimeout(()=>{\n    //          console.log(item)\n    //        },5000)\n    //\n    //      })\n  },\n\n  methods: {\n    _getQQRankListDetail: function _getQQRankListDetail() {\n      var _this = this;\n\n      if (this.rankList.id !== 0 && !this.rankList.id) {\n        this.$router.push('/rank');\n        return;\n      }\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5_api_rank__[\"a\" /* getQQRankListDetail */])(this.rankList.id).then(function (res) {\n        if (res.code === __WEBPACK_IMPORTED_MODULE_2_api_config__[\"a\" /* ERROR_OK */]) {\n          _this.rankTitleAndPic.title = res.topinfo.ListName;\n          _this.songs = _this.optimizeQQRankListSongs(res.songlist);\n          //            setTimeout(()=>{\n          //              this.rankTitleAndPic.pic = this.songs[0].image\n          //            },500)\n          //            (this.optimizeQQRankListSongs(res.songlist)).then((optimizeQQRankListSongsRes) => {\n          //              setTimeout(()=>{\n          //                this.songs = this.retArry\n          ////              console.log('resres this.songs ' + optimizeQQRankListSongsRes+'resresresresres')\n          //                this.rankTitleAndPic.pic = this.songs[0].image\n          //              },500)\n          //\n          //            })\n        } else {\n          console.log('获取QQ排行榜详情数据失败：res.code不为0');\n          //            alert('获取QQ排行榜详情数据异常，请刷新重试或联系本人')\n          _this.$message({\n            type: 'error',\n            message: '\\u83B7\\u53D6QQ\\u6392\\u884C\\u699C\\u8BE6\\u60C5\\u6570\\u636E\\u5931\\u8D25',\n            duration: 4500\n          });\n        }\n      }).catch(function (err) {\n        console.log('获取QQ排行榜详情数据出错了', err);\n        //          alert('获取QQ排行榜详情数据出错了，请刷新重试或联系本人')\n        _this.$message({\n          type: 'error',\n          message: '\\u83B7\\u53D6QQ\\u6392\\u884C\\u699C\\u8BE6\\u60C5\\u6570\\u636E\\u51FA\\u9519\\u4E86, ' + err,\n          duration: 4500\n        });\n      });\n    },\n    _getWYRankListDetail: function _getWYRankListDetail() {\n      var _this2 = this;\n\n      if (this.rankList.id !== 0 && !this.rankList.id) {\n        this.$router.push('/rank');\n        return;\n      }\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5_api_rank__[\"b\" /* getWYRankListDetail */])(this.rankList.id).then(function (res) {\n        if (res.code === __WEBPACK_IMPORTED_MODULE_2_api_config__[\"b\" /* WYNET_OK */]) {\n          _this2.rankTitleAndPic.title = res.playlist.name;\n          _this2.songs = _this2.optimizeWYRankListSongs(res.playlist.tracks);\n          _this2.rankTitleAndPic.pic = res.playlist.coverImgUrl;\n        } else {\n          console.log('获取网易排行榜详情数据异常：res.code不为200');\n          //            alert('获取网易排行榜详情数据异常，请刷新重试或联系本人')\n          _this2.$message({\n            type: 'error',\n            message: '\\u83B7\\u53D6\\u7F51\\u6613\\u6392\\u884C\\u699C\\u8BE6\\u60C5\\u6570\\u636E\\u5F02\\u5E38',\n            duration: 4500\n          });\n        }\n      }).catch(function (err) {\n        console.log('获取网易排行榜详情数据出错了', err);\n        //          alert('获取网易排行榜详情数据出错了，请刷新重试或联系本人')\n        _this2.$message({\n          type: 'error',\n          message: '\\u83B7\\u53D6\\u7F51\\u6613\\u6392\\u884C\\u699C\\u8BE6\\u60C5\\u6570\\u636E\\u51FA\\u9519\\u4E86, ' + err,\n          duration: 4500\n        });\n      });\n    },\n    optimizeQQRankListSongs: function optimizeQQRankListSongs(list) {\n      var _this3 = this;\n\n      //        return new Promise((resolve, reject) => {\n      this.retArry = [];\n      list.forEach(function (item) {\n        var musicData = item.data;\n        if (musicData.songid && musicData.albummid) {\n          //            console.warn(createSong(musicData))\n          __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_common_js_song__[\"b\" /* createSong */])(musicData).then(function (res) {\n            _this3.retArry.push(res);\n          }).catch(function (err) {\n            console.log('optimizeQQRankListSongs' + err);\n            //                reject('optimizeQQRankListSongs出错了' + err)\n          });\n        }\n      });\n      return this.retArry;\n      //          console.warn(this.retArry+'retttttttt')\n      //          resolve(this.retArry)\n      //        })\n    },\n    optimizeWYRankListSongs: function optimizeWYRankListSongs(list) {\n      var _this4 = this;\n\n      var ret = [];\n      list.forEach(function (item) {\n        var musicData = _this4.covertMusicDataWY(item);\n        if (musicData.id) {\n          ret.push(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_common_js_song__[\"c\" /* createSongWY */])(musicData));\n        }\n      });\n      return ret;\n    },\n    covertMusicDataWY: function covertMusicDataWY(data) {\n      data.mid = '';\n      return data;\n    },\n    covertMusicDataWYOld: function covertMusicDataWYOld(data) {\n      var ret = {};\n      ret.id = data.id;\n      ret.mid = '';\n      ret.ar = data.artists;\n      ret.name = data.name;\n      ret.al = data.album;\n      ret.dt = data.bMusic.playTime;\n      return ret;\n    }\n  },\n  components: {\n    musicList: __WEBPACK_IMPORTED_MODULE_4_components_music_list_music_list___default.a\n  },\n  watch: {\n    songs: function songs(newSong) {\n      if (newSong.length > 0) {\n        this.rankTitleAndPic.pic = newSong[0].image;\n      }\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 697:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(648)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".rank-detail-wrapper[data-v-7d6492d9]{position:fixed;z-index:90;top:0;left:0;right:0;bottom:0;background:#063}.slide-enter-active[data-v-7d6492d9],.slide-leave-active[data-v-7d6492d9]{-webkit-transition:all .3s;transition:all .3s}.slide-enter[data-v-7d6492d9],.slide-leave-to[data-v-7d6492d9]{-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}\", \"\", {\"version\":3,\"sources\":[\"C:/vueMusic/src/components/rank-detail/rank-detail.vue\"],\"names\":[],\"mappings\":\"AACA,sCACE,eAAgB,AAChB,WAAY,AACZ,MAAO,AACP,OAAQ,AACR,QAAS,AACT,SAAU,AACV,eAAiB,CAClB,AACD,0EAEE,2BAA6B,AAC7B,kBAAqB,CACtB,AACD,+DAEE,wCAA2C,AACnC,+BAAmC,CAC5C\",\"file\":\"rank-detail.vue\",\"sourcesContent\":[\"\\n.rank-detail-wrapper[data-v-7d6492d9] {\\n  position: fixed;\\n  z-index: 90;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n  background: #063;\\n}\\n.slide-enter-active[data-v-7d6492d9],\\n.slide-leave-active[data-v-7d6492d9] {\\n  -webkit-transition: all 0.3s;\\n  transition: all 0.3s;\\n}\\n.slide-enter[data-v-7d6492d9],\\n.slide-leave-to[data-v-7d6492d9] {\\n  -webkit-transform: translate3d(100%, 0, 0);\\n          transform: translate3d(100%, 0, 0);\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 709:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(697);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(649)(\"6599c9ce\", content, true);\n\n/***/ }),\n\n/***/ 722:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('transition', {\n    attrs: {\n      \"name\": \"slide\"\n    }\n  }, [_c('div', {\n    staticClass: \"rank-detail-wrapper\"\n  }, [_c('music-list', {\n    attrs: {\n      \"songs\": _vm.songs,\n      \"title\": _vm.title,\n      \"bg-image\": _vm.bgImage,\n      \"rank\": _vm.rank\n    }\n  })], 1)])\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/2.ee85d9377635ddabcf53.js","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7d6492d9\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./rank-detail.vue\")\n}\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./rank-detail.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7d6492d9\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./rank-detail.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-7d6492d9\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/rank-detail/rank-detail.vue\n// module id = 653\n// module chunks = 2","<template>\n  <div class=\"music-list-wrapper\" ref=\"musicListWrapper\">\n    <div class=\"singer-name\">\n      <i class=\"icon-back\" @click=\"goback\"></i>\n      <h2 v-html=\"title\"></h2>\n    </div>\n    <div class=\"singerAvatar\" :style=\"bgStyle\" ref=\"singerAvatar\">\n      <div class=\"bg-cover\" ref=\"bgCover\"></div>\n      <div class=\"random-play-all-wrap\" ref=\"randomPlayAllWrap\" v-if=\"songs.length>0\">\n        <div class=\"random-play-all-button\" @click=\"randomPlayAllMusic(songs)\"><i class=\"icon-play\"></i> 随机播放全部</div>\n      </div>\n    </div>\n    <div class=\"song-list-bg\" ref=\"songListBg\"></div>\n    <scroll :data=\"songs\"\n            class=\"scroll-song-list-part\"\n            ref=\"scrollSongList\"\n            :probeType=\"probeType\"\n            :listenScroll=\"listenScroll\"\n            @scroll=\"scroll\"\n\n    >\n      <div class=\"song-list-wrapper\">\n        <song-list :songs=\"songs\" @selectEvent=\"selectItem\" :rank=\"rank\"></song-list>\n      </div>\n    </scroll>\n    <div class=\"loading-wrapper\" v-if=\" !songs.length\">\n      <loading></loading>\n    </div>\n\n  </div>\n</template>\n\n<script>\n  const singer_name_height = 40\n  import songList from 'base/song-list/song-list'\n  import scroll from 'base/scroll/scroll'\n  import loading from 'base/loading/loading'\n  import { prefixStlye } from  'common/js/dom'\n  import { mapActions } from 'vuex'\n  import { playListMixin } from 'common/js/mixin'\n  let prefixTransform = prefixStlye('transform')\n  let prefixBackdropFilter = prefixStlye('backdrop-filter')\n\n  export default {\n    mixins: [playListMixin],\n    props: {\n      title: {\n        type: String,\n        default: ''\n      },\n      bgImage: {\n        type: String,\n        default: ''\n      },\n      songs: {\n        type: Array,\n        default: []\n      },\n      rank: {\n        type: Boolean,\n        default: false\n      }\n\n    },\n    components: {\n      songList,\n      scroll,\n      loading\n    },\n    computed: {\n      bgStyle(){\n        return `background-image:url(${this.bgImage})`\n      }\n\n    },\n    mounted() {\n      this.singerAvatarHeight = this.$refs.singerAvatar.clientHeight\n      this.$refs.scrollSongList.$el.style.top = this.singerAvatarHeight + 'px'\n    },\n    created() {\n      this.probeType = 3\n      this.listenScroll = true\n    },\n    data(){\n      return {\n        scrollY: 0\n      }\n    },\n    methods: {\n      handlePlayList(playList) {\n        const bottomValue = playList.length > 0 ? '60px' : ''\n        this.$refs.scrollSongList.$el.style.bottom = bottomValue\n        this.$refs.scrollSongList.refresh()\n\n      },\n      goback(){\n        this.$router.back()\n      },\n      scroll(pos){\n        this.scrollY = pos.y\n      },\n      randomPlayAllMusic(item) {\n        this.randomPlay({\n          list: item\n        })\n      },\n      selectItem(item, index){\n        this.selectPlay({\n          list: this.songs,\n          index\n        })\n      },\n      ...mapActions(['selectPlay', 'randomPlay'])\n\n    },\n    watch: {\n      scrollY(newY) {\n        let moveHeight = this.singerAvatarHeight - singer_name_height;\n//        let mintranslateY = Math.max(newY, -moveHeight);\n        if (-newY < moveHeight) {\n          this.$refs.songListBg.style[prefixTransform] = `translate3d(0,${newY}px,0)`\n          this.$refs.singerAvatar.style.zIndex = 0\n          this.$refs.singerAvatar.style.paddingBottom = '70%'\n          this.$refs.singerAvatar.style.height = 0;\n          this.$refs.randomPlayAllWrap.style.display = ''\n\n        } else {\n\n          this.$refs.singerAvatar.style.zIndex = 30\n          this.$refs.singerAvatar.style.paddingBottom = 0\n          this.$refs.singerAvatar.style.height = singer_name_height + 'px';\n          this.$refs.randomPlayAllWrap.style.display = 'none'\n\n        }\n        let scaleNum = 1 + (newY / this.singerAvatarHeight);\n        if (newY > 0) {\n          this.$refs.singerAvatar.style[prefixTransform] = `scale(${scaleNum})`\n\n        } else {\n          let blur = Math.min(20 * ((-newY) / this.singerAvatarHeight), 20);\n          this.$refs.bgCover.style[prefixBackdropFilter] = `blur(${blur}px)`;\n\n        }\n\n      }\n    }\n  }\n\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"stylus\" rel=\"stylesheet/stylus\">\n  @import \"~common/stylus/variable\"\n  @import \"~common/stylus/mixin\"\n\n  .music-list-wrapper {\n    height 100%\n    width 100%\n    position relative\n    .singer-name {\n      z-index 40\n      color $color-theme\n      position absolute\n      text-align center\n      width 100%\n      .icon-back {\n        left 25px\n        top 0\n        position absolute\n        display block\n        height 40px\n        line-height 40px\n        font-size $font-size-large-x\n      }\n      h2 {\n        font-size $font-size-large\n        line-height 40px\n        height 40px\n        padding 0 50px\n        no-wrap()\n\n      }\n\n    }\n\n    .singerAvatar {\n      position relative\n      width 100%\n      height 0\n      background-size cover\n      padding-bottom 70%\n      transform-origin top\n      .bg-cover {\n        position absolute\n        width 100%\n        height 100%\n        top 0\n        left 0\n        background: rgba(7, 17, 27, 0.4)\n\n      }\n      .random-play-all-wrap {\n        position absolute\n        left 50%\n        bottom 20px\n        transform translate(-50%, 0)\n        text-align center\n        color $color-theme\n\n        .random-play-all-button {\n          box-sizing border-box\n          width 135px\n          padding 7px 0\n          border 1px solid $color-theme\n          border-radius 100px\n          font-size $font-size-medium-x\n\n        }\n      }\n    }\n    .song-list-bg {\n      background-color $color-background\n      position relative\n      top 0\n      left 0\n      height 200%\n      width 100%\n    }\n    .scroll-song-list-part {\n      position fixed\n      bottom 0\n      width 100%\n\n      .song-list-wrapper {\n\n      }\n\n    }\n    .loading-wrapper {\n      position absolute\n      left 50%\n      bottom 30%\n      z-index 50\n      transform translate(-50%, -50%)\n\n    }\n  }\n\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// music-list.vue?05620697","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".music-list-wrapper[data-v-2fdecef3]{height:100%;width:100%;position:relative}.music-list-wrapper .singer-name[data-v-2fdecef3]{z-index:40;color:#ffcd32;position:absolute;text-align:center;width:100%}.music-list-wrapper .singer-name .icon-back[data-v-2fdecef3]{left:25px;top:0;position:absolute;display:block;height:40px;line-height:40px;font-size:22px}.music-list-wrapper .singer-name h2[data-v-2fdecef3]{font-size:18px;line-height:40px;height:40px;padding:0 50px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.music-list-wrapper .singerAvatar[data-v-2fdecef3]{position:relative;width:100%;height:0;background-size:cover;padding-bottom:70%;-webkit-transform-origin:top;transform-origin:top}.music-list-wrapper .singerAvatar .bg-cover[data-v-2fdecef3]{position:absolute;width:100%;height:100%;top:0;left:0;background:rgba(7,17,27,.4)}.music-list-wrapper .singerAvatar .random-play-all-wrap[data-v-2fdecef3]{position:absolute;left:50%;bottom:20px;-webkit-transform:translate(-50%);transform:translate(-50%);text-align:center;color:#ffcd32}.music-list-wrapper .singerAvatar .random-play-all-wrap .random-play-all-button[data-v-2fdecef3]{-webkit-box-sizing:border-box;box-sizing:border-box;width:135px;padding:7px 0;border:1px solid #ffcd32;border-radius:100px;font-size:16px}.music-list-wrapper .song-list-bg[data-v-2fdecef3]{background-color:#063;position:relative;top:0;left:0;height:200%;width:100%}.music-list-wrapper .scroll-song-list-part[data-v-2fdecef3]{position:fixed;bottom:0;width:100%}.music-list-wrapper .loading-wrapper[data-v-2fdecef3]{position:absolute;left:50%;bottom:30%;z-index:50;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}\", \"\", {\"version\":3,\"sources\":[\"C:/vueMusic/src/components/music-list/music-list.vue\"],\"names\":[],\"mappings\":\"AACA,qCACE,YAAa,AACb,WAAY,AACZ,iBAAmB,CACpB,AACD,kDACE,WAAY,AACZ,cAAe,AACf,kBAAmB,AACnB,kBAAmB,AACnB,UAAY,CACb,AACD,6DACE,UAAW,AACX,MAAO,AACP,kBAAmB,AACnB,cAAe,AACf,YAAa,AACb,iBAAkB,AAClB,cAAgB,CACjB,AACD,qDACE,eAAgB,AAChB,iBAAkB,AAClB,YAAa,AACb,eAAgB,AAChB,uBAAwB,AACxB,gBAAiB,AACjB,kBAAoB,CACrB,AACD,mDACE,kBAAmB,AACnB,WAAY,AACZ,SAAU,AACV,sBAAuB,AACvB,mBAAoB,AACpB,6BAA8B,AACtB,oBAAsB,CAC/B,AACD,6DACE,kBAAmB,AACnB,WAAY,AACZ,YAAa,AACb,MAAO,AACP,OAAQ,AACR,2BAA8B,CAC/B,AACD,yEACE,kBAAmB,AACnB,SAAU,AACV,YAAa,AACb,kCAAsC,AAC9B,0BAA8B,AACtC,kBAAmB,AACnB,aAAe,CAChB,AACD,iGACE,8BAA+B,AACvB,sBAAuB,AAC/B,YAAa,AACb,cAAe,AACf,yBAA0B,AAC1B,oBAAqB,AACrB,cAAgB,CACjB,AACD,mDACE,sBAAuB,AACvB,kBAAmB,AACnB,MAAO,AACP,OAAQ,AACR,YAAa,AACb,UAAY,CACb,AACD,4DACE,eAAgB,AAChB,SAAU,AACV,UAAY,CACb,AACD,sDACE,kBAAmB,AACnB,SAAU,AACV,WAAY,AACZ,WAAY,AACZ,uCAAyC,AACjC,8BAAiC,CAC1C\",\"file\":\"music-list.vue\",\"sourcesContent\":[\"\\n.music-list-wrapper[data-v-2fdecef3] {\\n  height: 100%;\\n  width: 100%;\\n  position: relative;\\n}\\n.music-list-wrapper .singer-name[data-v-2fdecef3] {\\n  z-index: 40;\\n  color: #ffcd32;\\n  position: absolute;\\n  text-align: center;\\n  width: 100%;\\n}\\n.music-list-wrapper .singer-name .icon-back[data-v-2fdecef3] {\\n  left: 25px;\\n  top: 0;\\n  position: absolute;\\n  display: block;\\n  height: 40px;\\n  line-height: 40px;\\n  font-size: 22px;\\n}\\n.music-list-wrapper .singer-name h2[data-v-2fdecef3] {\\n  font-size: 18px;\\n  line-height: 40px;\\n  height: 40px;\\n  padding: 0 50px;\\n  text-overflow: ellipsis;\\n  overflow: hidden;\\n  white-space: nowrap;\\n}\\n.music-list-wrapper .singerAvatar[data-v-2fdecef3] {\\n  position: relative;\\n  width: 100%;\\n  height: 0;\\n  background-size: cover;\\n  padding-bottom: 70%;\\n  -webkit-transform-origin: top;\\n          transform-origin: top;\\n}\\n.music-list-wrapper .singerAvatar .bg-cover[data-v-2fdecef3] {\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n  top: 0;\\n  left: 0;\\n  background: rgba(7,17,27,0.4);\\n}\\n.music-list-wrapper .singerAvatar .random-play-all-wrap[data-v-2fdecef3] {\\n  position: absolute;\\n  left: 50%;\\n  bottom: 20px;\\n  -webkit-transform: translate(-50%, 0);\\n          transform: translate(-50%, 0);\\n  text-align: center;\\n  color: #ffcd32;\\n}\\n.music-list-wrapper .singerAvatar .random-play-all-wrap .random-play-all-button[data-v-2fdecef3] {\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  width: 135px;\\n  padding: 7px 0;\\n  border: 1px solid #ffcd32;\\n  border-radius: 100px;\\n  font-size: 16px;\\n}\\n.music-list-wrapper .song-list-bg[data-v-2fdecef3] {\\n  background-color: #063;\\n  position: relative;\\n  top: 0;\\n  left: 0;\\n  height: 200%;\\n  width: 100%;\\n}\\n.music-list-wrapper .scroll-song-list-part[data-v-2fdecef3] {\\n  position: fixed;\\n  bottom: 0;\\n  width: 100%;\\n}\\n.music-list-wrapper .loading-wrapper[data-v-2fdecef3] {\\n  position: absolute;\\n  left: 50%;\\n  bottom: 30%;\\n  z-index: 50;\\n  -webkit-transform: translate(-50%, -50%);\\n          transform: translate(-50%, -50%);\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-2fdecef3\",\"scoped\":true,\"hasInlineConfig\":false}!./~/stylus-loader?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/music-list/music-list.vue\n// module id = 662\n// module chunks = 0 1 2","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2fdecef3\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/stylus-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./music-list.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"56ac5c24\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-2fdecef3\",\"scoped\":true,\"hasInlineConfig\":false}!./~/stylus-loader?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/music-list/music-list.vue\n// module id = 663\n// module chunks = 0 1 2","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2fdecef3\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./music-list.vue\")\n}\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./music-list.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2fdecef3\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./music-list.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-2fdecef3\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/music-list/music-list.vue\n// module id = 664\n// module chunks = 0 1 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    ref: \"musicListWrapper\",\n    staticClass: \"music-list-wrapper\"\n  }, [_c('div', {\n    staticClass: \"singer-name\"\n  }, [_c('i', {\n    staticClass: \"icon-back\",\n    on: {\n      \"click\": _vm.goback\n    }\n  }), _vm._v(\" \"), _c('h2', {\n    domProps: {\n      \"innerHTML\": _vm._s(_vm.title)\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    ref: \"singerAvatar\",\n    staticClass: \"singerAvatar\",\n    style: (_vm.bgStyle)\n  }, [_c('div', {\n    ref: \"bgCover\",\n    staticClass: \"bg-cover\"\n  }), _vm._v(\" \"), (_vm.songs.length > 0) ? _c('div', {\n    ref: \"randomPlayAllWrap\",\n    staticClass: \"random-play-all-wrap\"\n  }, [_c('div', {\n    staticClass: \"random-play-all-button\",\n    on: {\n      \"click\": function($event) {\n        _vm.randomPlayAllMusic(_vm.songs)\n      }\n    }\n  }, [_c('i', {\n    staticClass: \"icon-play\"\n  }), _vm._v(\" 随机播放全部\")])]) : _vm._e()]), _vm._v(\" \"), _c('div', {\n    ref: \"songListBg\",\n    staticClass: \"song-list-bg\"\n  }), _vm._v(\" \"), _c('scroll', {\n    ref: \"scrollSongList\",\n    staticClass: \"scroll-song-list-part\",\n    attrs: {\n      \"data\": _vm.songs,\n      \"probeType\": _vm.probeType,\n      \"listenScroll\": _vm.listenScroll\n    },\n    on: {\n      \"scroll\": _vm.scroll\n    }\n  }, [_c('div', {\n    staticClass: \"song-list-wrapper\"\n  }, [_c('song-list', {\n    attrs: {\n      \"songs\": _vm.songs,\n      \"rank\": _vm.rank\n    },\n    on: {\n      \"selectEvent\": _vm.selectItem\n    }\n  })], 1)]), _vm._v(\" \"), (!_vm.songs.length) ? _c('div', {\n    staticClass: \"loading-wrapper\"\n  }, [_c('loading')], 1) : _vm._e()], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-2fdecef3\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/music-list/music-list.vue\n// module id = 665\n// module chunks = 0 1 2","import jsonp from 'common/js/jsonp'\nimport { commonParams, options } from './config'\nimport axios from 'axios'\n\nexport function getQQAllRankData () {\n  // 获取QQ各个排行榜\n  // https://c.y.qq.com/v8/fcg-bin/fcg_myqq_toplist.fcg?g_tk=1733932805&uin=0&format=json&inCharset=utf-8&outCharset=utf-8&notice=0&platform=h5&needNewCode=1&_=1507350076787\n  const url = 'https://c.y.qq.com/v8/fcg-bin/fcg_myqq_toplist.fcg'\n  const data = Object.assign({}, commonParams, {\n    g_tk: 1733932805,\n    inCharset: 'utf-8',\n    outCharset: 'utf-8',\n    notice: 0,\n    platform: 'h5',\n    needNewCode: 1,\n    _: Date.now()\n  })\n  return jsonp(url, data, options)\n}\n\nexport function getQQRankListDetail (id) {\n  // 获取QQ单个排行榜详情\n  // https://c.y.qq.com/v8/fcg-bin/fcg_v8_toplist_cp.fcg?g_tk=1733932805&uin=0&format=json&inCharset=utf-8&outCharset=utf-8&notice=0&platform=h5&needNewCode=1&tpl=3&page=detail&type=top&topid=4&_=1507350217631\n  const url = 'https://c.y.qq.com/v8/fcg-bin/fcg_v8_toplist_cp.fcg'\n  const data = Object.assign({}, commonParams, {\n    g_tk: 1733932805,\n    inCharset: 'utf-8',\n    outCharset: 'utf-8',\n    notice: 0,\n    platform: 'h5',\n    needNewCode: 1,\n    tpl: 3,\n    page: 'detail',\n    type: 'top',\n    topid: id,\n    _: Date.now()\n  })\n  return jsonp(url, data, options)\n}\n\nexport function getWYRankListDetail (id) {\n  // 热门歌单详情\n  // http://wangyimusic.leanapp.cn/playlist/detail?id=311692545\n  const url = '/api/getWYRankListDetailProxy'\n  const data = {\n    idx: id\n  }\n\n  return axios.get(url, {\n    params: data\n  }).then((res) => {\n    return Promise.resolve(res.data)\n  }).catch(err => {\n    console.log(err)\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/rank.js","<template>\n  <transition name=\"slide\">\n    <div class=\"rank-detail-wrapper\">\n      <music-list :songs=\"songs\" :title=\"title\" :bg-image='bgImage' :rank=\"rank\"></music-list>\n    </div>\n  </transition>\n</template>\n\n<script>\n  import { mapGetters } from 'vuex'\n  import { ERROR_OK, WYNET_OK } from 'api/config'\n  import { createSong, createSongWY } from 'common/js/song'\n  import musicList from 'components/music-list/music-list'\n  import { getQQRankListDetail, getWYRankListDetail } from 'api/rank'\n\n  export default {\n    data () {\n      return {\n        songs: [],\n        rankTitleAndPic: {\n          title: '',\n          pic: ''\n        },\n        retArry: [],\n\n      }\n    },\n    props: {\n      rank: {\n        type: Boolean,\n        default: true\n      }\n    },\n    computed: {\n      title () {\n        return this.rankTitleAndPic.title\n      },\n      bgImage () {\n        return this.rankTitleAndPic.pic\n      },\n      ...mapGetters(['rankList', 'musicSourceData'])\n    },\n    created () {\n      if (this.musicSourceData === '1') {\n        this._getQQRankListDetail()\n      }\n      if (this.musicSourceData === '2') {\n        this._getWYRankListDetail()\n      }\n//      let aa;\n//      function hee() {\n//       return setTimeout(()=>{\n//         aa='ijioj'\n//        },1000)\n//      }\n//      hee();\n//       console.error(aa)\n\n//      let a=[1,2,3,4,5,6,7,8,9];\n//      a.forEach((item)=>{\n//        setTimeout(()=>{\n//          console.log(item)\n//        },5000)\n//\n//      })\n    },\n    methods: {\n      _getQQRankListDetail () {\n        if (this.rankList.id !== 0 && !this.rankList.id) {\n          this.$router.push('/rank')\n          return\n        }\n        getQQRankListDetail(this.rankList.id).then(res => {\n          if (res.code === ERROR_OK) {\n            this.rankTitleAndPic.title = res.topinfo.ListName\n            this.songs = this.optimizeQQRankListSongs(res.songlist)\n//            setTimeout(()=>{\n//              this.rankTitleAndPic.pic = this.songs[0].image\n//            },500)\n//            (this.optimizeQQRankListSongs(res.songlist)).then((optimizeQQRankListSongsRes) => {\n//              setTimeout(()=>{\n//                this.songs = this.retArry\n////              console.log('resres this.songs ' + optimizeQQRankListSongsRes+'resresresresres')\n//                this.rankTitleAndPic.pic = this.songs[0].image\n//              },500)\n//\n//            })\n\n          } else {\n            console.log('获取QQ排行榜详情数据失败：res.code不为0')\n//            alert('获取QQ排行榜详情数据异常，请刷新重试或联系本人')\n            this.$message({\n              type: 'error',\n              message: `获取QQ排行榜详情数据失败`,\n              duration: 4500,\n            });\n          }\n        }).catch(err => {\n          console.log('获取QQ排行榜详情数据出错了', err)\n//          alert('获取QQ排行榜详情数据出错了，请刷新重试或联系本人')\n          this.$message({\n            type: 'error',\n            message: `获取QQ排行榜详情数据出错了, ${err}`,\n            duration: 4500,\n          });\n        })\n      },\n      _getWYRankListDetail () {\n        if (this.rankList.id !== 0 && !this.rankList.id) {\n          this.$router.push('/rank')\n          return\n        }\n        getWYRankListDetail(this.rankList.id).then(res => {\n          if (res.code === WYNET_OK) {\n            this.rankTitleAndPic.title = res.playlist.name\n            this.songs = this.optimizeWYRankListSongs(res.playlist.tracks)\n            this.rankTitleAndPic.pic = res.playlist.coverImgUrl\n\n          } else {\n            console.log('获取网易排行榜详情数据异常：res.code不为200')\n//            alert('获取网易排行榜详情数据异常，请刷新重试或联系本人')\n            this.$message({\n              type: 'error',\n              message: `获取网易排行榜详情数据异常`,\n              duration: 4500,\n            });\n          }\n        }).catch(err => {\n          console.log('获取网易排行榜详情数据出错了', err)\n//          alert('获取网易排行榜详情数据出错了，请刷新重试或联系本人')\n          this.$message({\n            type: 'error',\n            message: `获取网易排行榜详情数据出错了, ${err}`,\n            duration: 4500,\n          });\n        })\n      },\n      optimizeQQRankListSongs (list) {\n//        return new Promise((resolve, reject) => {\n        this.retArry = []\n        list.forEach((item) => {\n          let musicData = item.data\n          if (musicData.songid && musicData.albummid) {\n//            console.warn(createSong(musicData))\n            createSong(musicData).then((res) => {\n              this.retArry.push(res)\n            }).catch((err) => {\n              console.log('optimizeQQRankListSongs' + err)\n//                reject('optimizeQQRankListSongs出错了' + err)\n            })\n\n          }\n\n        })\n        return this.retArry\n//          console.warn(this.retArry+'retttttttt')\n//          resolve(this.retArry)\n//        })\n\n      },\n      optimizeWYRankListSongs (list) {\n        let ret = []\n        list.forEach((item) => {\n          let musicData = this.covertMusicDataWY(item)\n          if (musicData.id) {\n            ret.push(createSongWY(musicData))\n          }\n\n        })\n        return ret\n      },\n      covertMusicDataWY (data) {\n        data.mid = ''\n        return data\n      },\n      covertMusicDataWYOld (data) {\n        let ret = {}\n        ret.id = data.id\n        ret.mid = ''\n        ret.ar = data.artists\n        ret.name = data.name\n        ret.al = data.album\n        ret.dt = data.bMusic.playTime\n        return ret\n      }\n    },\n    components: {\n      musicList\n    },\n    watch: {\n      songs (newSong) {\n        if (newSong.length > 0) {\n          this.rankTitleAndPic.pic = newSong[0].image\n        }\n      }\n    }\n  }\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"stylus\" rel=\"stylesheet/stylus\">\n  @import \"~common/stylus/variable\"\n  .rank-detail-wrapper {\n    position fixed\n    z-index 90\n    top 0\n    left 0\n    right 0\n    bottom 0\n    background: $color-background\n  }\n\n  .slide-enter-active, .slide-leave-active {\n    transition all 0.3s\n  }\n\n  .slide-enter, .slide-leave-to {\n    transform translate3d(100%, 0, 0)\n  }\n\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// rank-detail.vue?072ec691","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".rank-detail-wrapper[data-v-7d6492d9]{position:fixed;z-index:90;top:0;left:0;right:0;bottom:0;background:#063}.slide-enter-active[data-v-7d6492d9],.slide-leave-active[data-v-7d6492d9]{-webkit-transition:all .3s;transition:all .3s}.slide-enter[data-v-7d6492d9],.slide-leave-to[data-v-7d6492d9]{-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}\", \"\", {\"version\":3,\"sources\":[\"C:/vueMusic/src/components/rank-detail/rank-detail.vue\"],\"names\":[],\"mappings\":\"AACA,sCACE,eAAgB,AAChB,WAAY,AACZ,MAAO,AACP,OAAQ,AACR,QAAS,AACT,SAAU,AACV,eAAiB,CAClB,AACD,0EAEE,2BAA6B,AAC7B,kBAAqB,CACtB,AACD,+DAEE,wCAA2C,AACnC,+BAAmC,CAC5C\",\"file\":\"rank-detail.vue\",\"sourcesContent\":[\"\\n.rank-detail-wrapper[data-v-7d6492d9] {\\n  position: fixed;\\n  z-index: 90;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n  background: #063;\\n}\\n.slide-enter-active[data-v-7d6492d9],\\n.slide-leave-active[data-v-7d6492d9] {\\n  -webkit-transition: all 0.3s;\\n  transition: all 0.3s;\\n}\\n.slide-enter[data-v-7d6492d9],\\n.slide-leave-to[data-v-7d6492d9] {\\n  -webkit-transform: translate3d(100%, 0, 0);\\n          transform: translate3d(100%, 0, 0);\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-7d6492d9\",\"scoped\":true,\"hasInlineConfig\":false}!./~/stylus-loader?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/rank-detail/rank-detail.vue\n// module id = 697\n// module chunks = 2","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7d6492d9\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/stylus-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./rank-detail.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"6599c9ce\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-7d6492d9\",\"scoped\":true,\"hasInlineConfig\":false}!./~/stylus-loader?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/rank-detail/rank-detail.vue\n// module id = 709\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('transition', {\n    attrs: {\n      \"name\": \"slide\"\n    }\n  }, [_c('div', {\n    staticClass: \"rank-detail-wrapper\"\n  }, [_c('music-list', {\n    attrs: {\n      \"songs\": _vm.songs,\n      \"title\": _vm.title,\n      \"bg-image\": _vm.bgImage,\n      \"rank\": _vm.rank\n    }\n  })], 1)])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-7d6492d9\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/rank-detail/rank-detail.vue\n// module id = 722\n// module chunks = 2"],"sourceRoot":""}